{% extends "base.html" %}

{% block content %}
  {% if session.user %}
    <h1>{{ session.user }} är bäst</h1>
  
    <h3 class="teal-text center-align">Add book</h3>

    <div class="row card-panel green lighten-5">
        <form class="col s12" method="POST" action="{{ url_for('add_book') }}">
          <!-- Categories -->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-folder-open prefix teal-text"></i>
              <select id="category_name" name="category_name" class="validate" required>
                <option value="" disabled selected>Choose Category</option>
                
                {% for category in categories %}
                  <option value="{{ category.category_name }}">{{ category.category_name }}</option>

                {% endfor %}
              </select>
              <label for="category_name">Book Category</label>
            </div>
          </div>
          <!-- Book Name -->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-book prefix teal-text"></i>
              <input id="book_name" name="book_name" minlength="1" maxlength="22"
                type="text" class="validate" required>
              <label for="book_name">Book Name</label>
            </div>
          </div>
          <!-- Book Author -->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-user-edit prefix teal-text"></i>
              <input id="book_author" name="book_author" minlength="1" maxlength="22"
                type="text" class="validate" required>
              <label for="book_author">Book Author</label>
            </div>
          </div>
          <!-- Release Year -->
          <div class="row">
            <div class="input-field col s12">
              <i class="fas fa-calendar-alt prefix teal-text"></i>
              <input id="book_release" name="book_release" type="text" class="validate" required>
              <!--<input id="book_release" name="book_release" type="text" class="datepicker validate" required>-->
              <label for="book_release">Release Date (2020)</label>
            </div>
          </div>
          <!-- Book Description -->
          <div class="row">
            <div class="input-field col s12">
                <i class="fas fa-align-left prefix teal-text"></i>
                <textarea id="book_description" name="book_description" minlength="5" maxlength="400" class="materialize-textarea validate" required></textarea>
                <label for="book_description">Book Description</label>
            </div>
          </div>
          <!-- Give point section -->
          <p class="range-field">
            <label for="book_upvote">Points for the book (0 - 5)</label>
            <input type="range" id="book_upvote" name="book_upvote" min="0" max="5" />
            
          </p>
          <!-- submit button -->
            <div class="row">
                <div class="col s12 center-align">
                    <button type="submit" class="btn-large darken-1 text-shadow">
                        Add Book <i class="fas fa-plus-square right"></i>
                    </button>
                </div>
            </div>
        </form>
      </div>
  {% else %}
    
    <body onload="redirect_home()">
  {% endif %}    
{% endblock %}
